# Metodologia

A metodologia adotada neste trabalho baseia-se no desenvolvimento modular de um sistema digital implementado em FPGA, descrito em linguagem VHDL, seguido de validação por simulação e posterior implementação em hardware. O projeto foi estruturado em blocos funcionais independentes, abordagem que facilita a compreensão do funcionamento do sistema, a depuração do código e sua possível reutilização em projetos futuros.

O controle da animação dos LEDs é realizado por meio de uma máquina de estados finita (FSM), responsável por definir tanto a quantidade de LEDs ativos quanto o sentido da animação. A FSM foi modelada segundo o modelo de Moore, no qual as saídas do sistema dependem exclusivamente do estado atual, proporcionando maior previsibilidade e simplicidade no projeto. As transições entre os estados são controladas por sinais de entrada, permitindo a progressão ou regressão da animação de acordo com a configuração definida pelo usuário.

O sistema também conta com um módulo dedicado à divisão do clock da FPGA. Considerando que o clock nativo da placa opera em uma frequência elevada para observação visual, este bloco tem a função de reduzir a frequência do sinal de clock para valores adequados ao funcionamento da FSM e à visualização da animação dos LEDs. O divisor de clock utiliza um contador interno para gerar um clock mais lento, sincronizando corretamente a atualização dos estados do sistema.

Para o controle do brilho dos LEDs, foi desenvolvido um módulo gerador de PWM (Pulse Width Modulation), responsável por produzir sinais com diferentes ciclos de trabalho. Neste projeto, são utilizados sinais PWM com duty cycles de 10%, 30%, 60% e 90%, possibilitando a variação discreta da intensidade luminosa dos LEDs. Essa abordagem permite simular diferentes níveis de brilho de forma simples e eficiente, sem a necessidade de circuitos analógicos adicionais.

O sistema dispõe de três chaves de controle externas: reset, enable e progr_regr. O sinal de reset é responsável por reinicializar o sistema, forçando a FSM ao seu estado inicial. A chave enable permite habilitar ou bloquear a atualização dos estados, possibilitando a pausa da animação dos LEDs. Já o sinal progr_regr define o sentido da animação, permitindo alternar entre progressão e regressão da “barrinha” de LEDs.

A validação funcional do sistema foi realizada por meio de simulações no ambiente ModelSim. Para automatizar esse processo, foi utilizado um script de simulação (script.do), responsável pela criação da biblioteca de trabalho, compilação dos módulos VHDL, inicialização do testbench e configuração da visualização dos sinais na forma de onda. As simulações foram executadas por um intervalo de tempo suficiente para verificar o funcionamento completo da FSM, a atuação das chaves de controle e a geração correta dos sinais PWM.

Após a etapa de simulação, o projeto foi sintetizado e implementado em uma placa FPGA DE10-Lite, utilizando o software Quartus. Essa etapa permitiu validar o funcionamento do sistema em hardware real, confirmando os resultados observados durante a simulação e assegurando a correta implementação da animação dos LEDs conforme especificado.
